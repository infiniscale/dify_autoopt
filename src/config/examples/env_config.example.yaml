# 环境配置示例文件
#
# 使用方法：
# 1. 复制此文件到项目根目录或指定位置
#    cp config/examples/env_config.example.yaml config/env_config.yaml
# 2. 修改配置值以匹配你的环境
# 3. 设置环境变量（推荐）或直接在文件中填写敏感信息
# 4. 确保将实际配置文件添加到 .gitignore

meta:
  version: "1.0"
  environment: "dev"  # dev | test | staging | prod
  updated_by: "your_name"
  updated_at: "2025-11-13"

# Dify 平台配置
dify:
  # Dify API 基础 URL（必须以 http:// 或 https:// 开头）
  base_url: "https://api.dify.ai"

  # 租户 ID（可选，如果你的 Dify 实例需要）
  tenant_id: null

  # 认证配置
  auth:
    # 主要 API Token（推荐使用环境变量）
    # 设置方式：export DIFY_API_TOKEN="your_token_here"
    primary_token: "${DIFY_API_TOKEN}"

    # 备用 Tokens（用于轮换，避免限流）
    fallback_tokens:
      # - "${DIFY_FALLBACK_TOKEN_1}"
      # - "${DIFY_FALLBACK_TOKEN_2}"

  # 速率限制配置
  rate_limits:
    per_minute: 60    # 每分钟最多请求数
    burst: 10         # 突发请求数量

# 评估模型配置（用于自动化评分）
model_evaluator:
  provider: "openai"           # openai | anthropic | azure | ollama
  model_name: "gpt-4"          # 模型名称
  api_key: "${EVALUATOR_API_KEY}"  # API Key（推荐使用环境变量）
  temperature: 0.2             # 温度参数（0-1，越低越确定）
  max_tokens: 512              # 最大输出 tokens

  # Azure OpenAI 特定配置（如果 provider 是 azure）
  # azure_endpoint: "https://your-resource.openai.azure.com/"
  # azure_deployment: "gpt-4"
  # api_version: "2024-02-01"

# I/O 路径配置
io_paths:
  # Workflow DSL 文件目录
  workflow_dsl: "./workflows"

  # 测试数据目录
  test_data: "./data"

  # 输出目录
  output: "./output"

  # 日志目录
  logs: "./logs"

  # 临时文件目录（可选）
  # temp: "./tmp"

# 日志配置
logging:
  level: "INFO"        # DEBUG | INFO | WARNING | ERROR | CRITICAL
  format: "json"       # json | text

  # 日志输出配置（可选）
  # handlers:
  #   console:
  #     enabled: true
  #     level: "INFO"
  #   file:
  #     enabled: true
  #     level: "DEBUG"
  #     rotation: "1 day"
  #     retention: "7 days"

# 默认值（可选）
defaults:
  # 默认超时时间（秒）
  timeout: 30

  # 默认重试次数
  max_retries: 3

  # 默认并发数
  concurrency: 5

  # 是否保存中间结果
  save_intermediate: true
